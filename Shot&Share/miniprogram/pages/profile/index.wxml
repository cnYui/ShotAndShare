<!--profile.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="user-section">
    <view wx:if="{{hasUserInfo}}" class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-details">
        <view class="user-name">{{userInfo.nickName}}</view>
        <view class="user-location" wx:if="{{userInfo.city}}">
          ğŸ“ {{userInfo.province}} {{userInfo.city}}
        </view>
      </view>
    </view>
    
    <view wx:else class="login-prompt">
      <view class="login-icon">ğŸ‘¤</view>
      <view class="login-text">ç™»å½•åæŸ¥çœ‹ä¸ªäººä¿¡æ¯</view>
      <button class="btn btn-primary" bindtap="getUserInfo">ç«‹å³ç™»å½•</button>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ®åŒºåŸŸ -->
  <view wx:if="{{hasUserInfo}}" class="stats-section">
    <view class="stats-grid">
      <view class="stat-card">
        <view class="stat-number">{{stats.totalGenerated}}</view>
        <view class="stat-label">ç”Ÿæˆæ–‡æ¡ˆ</view>
      </view>
      <view class="stat-card">
        <view class="stat-number">{{stats.totalSaved}}</view>
        <view class="stat-label">ä¿å­˜è®°å½•</view>
      </view>
      <view class="stat-card">
        <view class="stat-number">{{stats.totalShared}}</view>
        <view class="stat-label">åˆ†äº«æ¬¡æ•°</view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå•åŒºåŸŸ -->
  <view class="menu-section">
    <view class="section-title">åŠŸèƒ½èœå•</view>
    <view class="menu-list">
      <view 
        class="menu-item"
        wx:for="{{menuItems}}"
        wx:key="id"
        data-id="{{item.id}}"
        bindtap="onMenuClick"
      >
        <view class="menu-icon">{{item.icon}}</view>
        <view class="menu-content">
          <view class="menu-title">{{item.title}}</view>
          <view class="menu-desc">{{item.desc}}</view>
        </view>
        <view wx:if="{{item.arrow}}" class="menu-arrow">â€º</view>
      </view>
    </view>
  </view>

  <!-- åå¥½è®¾ç½®åŒºåŸŸ -->
  <view wx:if="{{hasUserInfo}}" class="preferences-section">
    <view class="section-title">ä¸ªäººåå¥½</view>
    <view class="preference-list">
      <view class="preference-item">
        <view class="preference-label">é»˜è®¤æ–‡æ¡ˆé£æ ¼</view>
        <view class="preference-value">{{preferences.defaultStyle}}</view>
      </view>
      <view class="preference-item">
        <view class="preference-label">è‡ªåŠ¨ä¿å­˜</view>
        <view class="preference-value">{{preferences.autoSave ? 'å·²å¼€å¯' : 'å·²å…³é—­'}}</view>
      </view>
    </view>
  </view>

  <!-- åº”ç”¨ä¿¡æ¯åŒºåŸŸ -->
  <view class="app-info-section">
    <view class="section-title">åº”ç”¨ä¿¡æ¯</view>
    <view class="app-info">
      <view class="app-logo">ğŸ“¸</view>
      <view class="app-details">
        <view class="app-name">Shot&Share</view>
        <view class="app-version">ç‰ˆæœ¬ 1.0.0</view>
        <view class="app-desc">æ™ºèƒ½æœ‹å‹åœˆé…æ–‡åŠ©æ‰‹</view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œåŒºåŸŸ -->
  <view class="quick-actions">
    <button class="btn btn-outline" open-type="share">
      ğŸ“¤ åˆ†äº«ç»™æœ‹å‹
    </button>
  </view>
</view>