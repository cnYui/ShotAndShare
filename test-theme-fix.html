<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸»é¢˜ç®¡ç†ä¿®å¤éªŒè¯</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .fix-item {
            margin: 15px 0;
            padding: 15px;
            border-radius: 5px;
            background-color: #d4edda;
            border-left: 4px solid #28a745;
        }
        .error-item {
            background-color: #f8d7da;
            border-left-color: #dc3545;
        }
        .code {
            background: #f4f4f4;
            padding: 8px;
            border-radius: 4px;
            font-family: monospace;
            margin: 5px 0;
        }
        .before {
            color: #dc3545;
        }
        .after {
            color: #28a745;
        }
        h3 {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ä¸»é¢˜ç®¡ç†é”™è¯¯ä¿®å¤æŠ¥å‘Š</h1>
        
        <div class="error-item">
            <h3>âŒ åŸå§‹é”™è¯¯</h3>
            <p><strong>é”™è¯¯ä¿¡æ¯ï¼š</strong> TypeError: themeManager.isDarkMode is not a function</p>
            <p><strong>é”™è¯¯ä½ç½®ï¼š</strong> home.js, chat.js, tasks.js çš„ applyCurrentTheme æ–¹æ³•</p>
            <p><strong>é”™è¯¯åŸå› ï¼š</strong> è°ƒç”¨äº†ä¸å­˜åœ¨çš„æ–¹æ³•å</p>
        </div>

        <div class="fix-item">
            <h3>âœ… ä¿®å¤å†…å®¹</h3>
            <p><strong>é—®é¢˜åˆ†æï¼š</strong></p>
            <ul>
                <li>theme.js ä¸­å®šä¹‰çš„æ–¹æ³•åæ˜¯ <code class="code">isDark()</code></li>
                <li>ä½†å„é¡µé¢è°ƒç”¨çš„æ˜¯ <code class="code">isDarkMode()</code></li>
                <li>æ–¹æ³•åä¸åŒ¹é…å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯</li>
            </ul>
        </div>

        <div class="fix-item">
            <h3>ğŸ”„ ä¿®å¤è¯¦æƒ…</h3>
            
            <h4>1. home.js ä¿®å¤</h4>
            <div class="code before">ä¿®å¤å‰: const isDarkMode = themeManager.isDarkMode();</div>
            <div class="code after">ä¿®å¤å: const isDarkMode = themeManager.isDark();</div>
            
            <h4>2. chat.js ä¿®å¤</h4>
            <div class="code before">ä¿®å¤å‰: const isDarkMode = themeManager.isDarkMode();</div>
            <div class="code after">ä¿®å¤å: const isDarkMode = themeManager.isDark();</div>
            
            <h4>3. tasks.js ä¿®å¤</h4>
            <div class="code before">ä¿®å¤å‰: const isDarkMode = themeManager.isDarkMode();</div>
            <div class="code after">ä¿®å¤å: const isDarkMode = themeManager.isDark();</div>
        </div>

        <div class="fix-item">
            <h3>âœ¨ éªŒè¯æ­¥éª¤</h3>
            <ol>
                <li>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­é‡æ–°ç¼–è¯‘é¡¹ç›®</li>
                <li>è¿›å…¥å® ç‰©ä¸»é¡µé¢</li>
                <li>æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦è¿˜æœ‰ "isDarkMode is not a function" é”™è¯¯</li>
                <li>æµ‹è¯•é¡µé¢åˆ‡æ¢ï¼ˆä¸»é¡µ â†’ ä»»åŠ¡ â†’ èŠå¤©ï¼‰æ˜¯å¦æ­£å¸¸</li>
                <li>æµ‹è¯•ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
            </ol>
        </div>

        <div class="fix-item">
            <h3>ğŸ¯ é¢„æœŸç»“æœ</h3>
            <ul>
                <li>é¡µé¢åŠ è½½å’Œåˆ‡æ¢æ—¶ä¸å†å‡ºç° TypeError</li>
                <li>ä¸»é¢˜ç®¡ç†åŠŸèƒ½æ­£å¸¸å·¥ä½œ</li>
                <li>æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢æ­£å¸¸</li>
                <li>æ‰€æœ‰é¡µé¢çš„ä¸»é¢˜çŠ¶æ€åŒæ­¥</li>
            </ul>
        </div>

        <div class="fix-item">
            <h3>ğŸ“‹ theme.js å¯ç”¨æ–¹æ³•</h3>
            <div class="code">
                <div>âœ… themeManager.getCurrentTheme() - è·å–å½“å‰ä¸»é¢˜</div>
                <div>âœ… themeManager.isDark() - æ£€æŸ¥æ˜¯å¦ä¸ºæ·±è‰²æ¨¡å¼</div>
                <div>âœ… themeManager.setTheme(code) - è®¾ç½®ä¸»é¢˜</div>
                <div>âœ… themeManager.getAvailableThemes() - è·å–å¯ç”¨ä¸»é¢˜</div>
                <div>âœ… themeManager.getThemeVars() - è·å–ä¸»é¢˜å˜é‡</div>
            </div>
        </div>
    </div>

    <script>
        console.log('ä¸»é¢˜ç®¡ç†ä¿®å¤éªŒè¯é¡µé¢å·²åŠ è½½');
        console.log('è¯·åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•ä¿®å¤æ•ˆæœ');
    </script>
</body>
</html>